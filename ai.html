<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üá≥üáµ Nepal Accountant Ultimate SaaS - Mobile Optimized</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        :root { --primary: #003893; --secondary: #dc143c; --success: #28a745; --dark: #1a252f; --light: #f8f9fa; }
        body { font-family: 'Inter', sans-serif; background: #f0f2f5; margin: 0; display: flex; flex-direction: column; min-height: 100vh; overflow-x: hidden; }

        /* Mobile Responsive Header */
        .mobile-header { background: var(--dark); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        .menu-toggle { background: var(--primary); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-size: 20px; }

        /* Sidebar Navigation - Fixed for Mobile */
        .sidebar { width: 260px; background: var(--dark); color: white; height: 100vh; position: fixed; top: 0; left: -260px; transition: 0.3s; z-index: 999; overflow-y: auto; padding-top: 60px; }
        .sidebar.active { left: 0; }
        .sidebar-btn { width: 100%; padding: 15px 20px; border: none; background: none; color: #adb5bd; text-align: left; cursor: pointer; font-size: 14px; border-bottom: 1px solid #2c3e50; }
        .sidebar-btn.active { background: var(--primary); color: white; }

        /* Main Content Adjustments */
        .main-content { padding: 15px; flex: 1; transition: 0.3s; width: 100%; box-sizing: border-box; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-bottom: 20px; border-top: 5px solid var(--primary); }
        
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; }
        input, select, textarea { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        
        .btn { padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; }
        .btn-primary { background: var(--primary); color: white; }
        
        /* Links section */
        .links-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .link-item { background: #f8f9fa; padding: 10px; text-decoration: none; color: var(--dark); border-radius: 5px; font-size: 12px; text-align: center; border: 1px solid #eee; }

        /* Result Overlay */
        .result-box { background: #f0f7ff; padding: 15px; border-radius: 8px; border-left: 5px solid var(--success); margin-top: 15px; font-size: 13px; }

        /* For Desktop */
        @media (min-width: 1024px) {
            .sidebar { left: 0; padding-top: 20px; }
            .main-content { margin-left: 260px; }
            .mobile-header { display: none; }
            .menu-toggle { display: none; }
        }
    </style>
</head>
<body>

<div class="mobile-header">
    <strong>ACCT PRO AI v5.0</strong>
    <button class="menu-toggle" onclick="toggleMenu()">‚ò∞ Menu</button>
</div>

<nav class="sidebar" id="sidebar">
    <div style="padding: 20px; text-align: center; border-bottom: 1px solid #34495e; margin-bottom: 10px;">
        <h3 style="margin:0;">Dashboard</h3>
    </div>
    <button class="sidebar-btn active" onclick="showTab('payroll-tab')">üí∞ Payroll & Tax</button>
    <button class="sidebar-btn" onclick="showTab('vat-tds-tab')">üìä VAT & TDS</button>
    <button class="sidebar-btn" onclick="showTab('recon-tab')">üíµ Cash & Recon</button>
    <button class="sidebar-btn" onclick="showTab('util-tab')">üõ†Ô∏è Important Links/Acts</button>
    <button class="sidebar-btn" onclick="showTab('ai-tab')">ü§ñ AI Advisor</button>
</nav>

<div class="main-content">
    
    <div id="payroll-tab" class="tab-panel active">
        <div class="card">
            <h2>Monthly Payroll (SSF Integrated)</h2>
            <label>Monthly Basic Salary</label>
            <input type="number" id="mSal" value="50000">
            <label>SSF Contributor?</label>
            <select id="mSSF">
                <option value="yes">Yes</option>
                <option value="no">No</option>
            </select>
            <button class="btn btn-primary" onclick="calcPayroll()">Calculate Tax</button>
            <div id="payRes" class="result-box"></div>
        </div>
    </div>

    <div id="vat-tds-tab" class="tab-panel" style="display:none;">
        <div class="card">
            <h2>VAT & TDS Calculator</h2>
            <input type="number" id="vAmt" placeholder="Amount">
            <select id="vMode">
                <option value="excl">VAT Exclusive</option>
                <option value="incl">VAT Inclusive</option>
            </select>
            <button class="btn btn-primary" onclick="calcVAT()">Process</button>
            <div id="vatRes" class="result-box"></div>
        </div>
    </div>

    <div id="util-tab" class="tab-panel" style="display:none;">
        <div class="card">
            <h2>üìú Important Act Links</h2>
            <div class="links-grid">
                <a href="https://ird.gov.np" target="_blank" class="link-item">IRD Portal</a>
                <a href="https://ssf.gov.np" target="_blank" class="link-item">SSF Nepal</a>
                <a href="https://ocr.gov.np" target="_blank" class="link-item">OCR (Company)</a>
                <a href="https://lawcommission.gov.np" target="_blank" class="link-item">Law Commission</a>
            </div>
        </div>
        <div class="card">
            <h2>üìÖ Fiscal Year (BS ‚Üî AD)</h2>
            <input type="number" id="bsYear" value="2082">
            <button class="btn btn-primary" onclick="alert('AD Year: 2025/26')">Check FY</button>
        </div>
    </div>

    <div id="ai-tab" class="tab-panel" style="display:none;">
        <div class="card">
            <h2>AI Advisor</h2>
            <textarea id="aiQ" rows="4" placeholder="Ask your question..."></textarea>
            <button class="btn btn-primary">Ask AI Expert</button>
        </div>
    </div>

</div>

<script>
    // Toggle Menu for Mobile
    function toggleMenu() {
        document.getElementById('sidebar').classList.toggle('active');
    }

    // Switch Tabs and Auto-Close Menu on Mobile
    function showTab(tabId) {
        document.querySelectorAll('.tab-panel').forEach(t => t.style.display = 'none');
        document.getElementById(tabId).style.display = 'block';
        
        document.querySelectorAll('.sidebar-btn').forEach(b => b.classList.remove('active'));
        event.currentTarget.classList.add('active');

        // Close sidebar on mobile after clicking
        if (window.innerWidth < 1024) {
            toggleMenu();
        }
    }

    // Simple Payroll Calculation logic
    function calcPayroll() {
        let sal = parseFloat(document.getElementById('mSal').value);
        let ssf = document.getElementById('mSSF').value;
        let tax = (sal > 50000 && ssf === 'no') ? (sal * 0.01) : 0;
        document.getElementById('payRes').innerHTML = `Gross: Rs. ${sal} <br> Est. Monthly Tax: Rs. ${tax}`;
    }

    function calcVAT() {
        let amt = parseFloat(document.getElementById('vAmt').value);
        let res = amt * 1.13;
        document.getElementById('vatRes').innerHTML = `Total with VAT: Rs. ${res.toFixed(2)}`;
    }
</script>

</body>
</html>