 <div><br class="Apple-interchange-newline"><!DOCTYPE html>
<html lang="en">
<script type="text/javascript" src="https://gc.kes.v2.scr.kaspersky-labs.com/7EA5E9BB-55E1-4C31-9C21-4943DDFED2E4/main.js?attr=8Hh8FSC0r6kt0V70nlJJeCCSNU6nV5Nlz0TVjaI2uMPbTekPb_7CAH1QsVnO2DQhVGjzlJD_tBJHmckXM5G2dOUSkglEtpBb9ICeRjMtxtoyXZQeFqOWqrh6uyBflD-4Jdfu9UJ1SomEttthGTSyXA" charset="UTF-8"></script><center>
WELL COME
Kushal Phuyal
</center>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional EMI Calculator</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 900px;
            margin: 50px auto;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            position: relative;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .input-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .input-group {
            display: flex;
            flex-direction: column;
        }
        .input-group label {
            font-weight: bold;
            margin-bottom: 5px;
            color: #34495e;
        }
        .input-group input {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .btn {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            background-color: #27ae60;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #2ecc71;
        }
        #result {
            margin-top: 30px;
        }
        #result h3 {
            color: #2980b9;
        }

        /* Draggable Summary */
        .summary {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 250px;
            cursor: move;
            position: absolute;
            top: 20px;
            left: 20px;
        }

        .scrollable-table {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid #ddd;
            padding: 12px;
        }
        th {
            background-color: #2980b9;
            color: white;
        }
        td {
            text-align: right;
        }
        td:first-child {
            text-align: center;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Professional EMI Calculator</h1>

        <div class="input-container">
            <div class="input-group">
                <label for="principal">Principal Amount</label>
                <input type="number" id="principal" placeholder="Enter Principal Amount" required>
            </div>

            <div class="input-group">
                <label for="rate">Annual Interest Rate (%)</label>
                <input type="number" id="rate" step="0.01" placeholder="Enter Interest Rate" required>
            </div>

            <div class="input-group">
                <label for="months">Loan Tenure (Months)</label>
                <input type="number" id="months" placeholder="Enter Loan Tenure" required>
            </div>
        </div>

        <button class="btn" onclick="calculateEMI()">Calculate EMI</button>

        <div id="result">
            <div class="summary" id="summary">
                <!-- Summary will be displayed here -->
            </div>
            
            <div class="scrollable-table" id="tableContainer">
                <!-- EMI table will be displayed here -->
            </div>
        </div>
    </div>

    <script>
        function calculateEMI() {
            let principal = parseFloat(document.getElementById("principal").value);
            let rate = parseFloat(document.getElementById("rate").value) / 12 / 100;
            let months = parseInt(document.getElementById("months").value);

            if (isNaN(principal) || isNaN(rate) || isNaN(months)) {
                alert("Please enter valid input.");
                return;
            }

            // EMI calculation
            let emi = principal * rate * Math.pow(1 + rate, months) / (Math.pow(1 + rate, months) - 1);

            // Total Interest
            let totalInterest = emi * months - principal;

            // Service charge (1.3% of principal)
            let serviceCharge = principal * 0.013;

            // Insurance charge (0.425% of principal per year)
            let insuranceCharge = principal * 0.00425 * Math.ceil(months / 12);

            // Total service and insurance charge
            let totalCharges = serviceCharge + insuranceCharge;

            // Total cost
            let totalCost = principal + totalInterest + totalCharges;

            let startDate = new Date();
            let resultDiv = document.getElementById("result");

            // Clear previous results
            document.getElementById("summary").innerHTML = "";
            document.getElementById("tableContainer").innerHTML = "";

            // Display summary
            let summaryDiv = document.getElementById("summary");
            summaryDiv.innerHTML += `<h3>EMI Summary</h3>`;
            summaryDiv.innerHTML += `<p>Monthly EMI: <strong>${emi.toFixed(2)}</strong></p>`;
            summaryDiv.innerHTML += `<p>Total Interest: <strong>${totalInterest.toFixed(2)}</strong></p>`;
            summaryDiv.innerHTML += `<p>Service Charge (1.3%): <strong>${serviceCharge.toFixed(2)}</strong></p>`;
            summaryDiv.innerHTML += `<p>Insurance Charge (0.425% per year): <strong>${insuranceCharge.toFixed(2)}</strong></p>`;
            summaryDiv.innerHTML += `<p>Total Charges (Service + Insurance): <strong>${totalCharges.toFixed(2)}</strong></p>`;
            summaryDiv.innerHTML += `<p>Total Cost: <strong>${totalCost.toFixed(2)}</strong></p>`;

            // EMI schedule
            let tableDiv = document.getElementById("tableContainer");
            let table = `<table><tr><th>EMI No.</th><th>Payment Date</th><th>Principal Paid</th><th>Interest Paid</th><th>Total EMI</th></tr>`;

            for (let i = 1; i <= months; i++) {
                let interestPaid = principal * rate;
                let principalPaid = emi - interestPaid;
                principal -= principalPaid;

                let paymentDate = new Date(startDate);
                paymentDate.setMonth(paymentDate.getMonth() + i - 1);

                let formattedDate = paymentDate.toISOString().split("T")[0];

                table += `<tr><td>${i}</td><td>${formattedDate}</td><td>${principalPaid.toFixed(2)}</td><td>${interestPaid.toFixed(2)}</td><td>${emi.toFixed(2)}</td></tr>`;
            }

            table += `</table>`;
            tableDiv.innerHTML += table;
        }

        // Draggable summary
        dragElement(document.getElementById("summary"));

        function dragElement(el) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

            el.onmousedown = dragMouseDown;

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                el.style.top = (el.offsetTop - pos2) + "px";
                el.style.left = (el.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }
    </script>

</body>
