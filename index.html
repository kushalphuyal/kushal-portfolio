<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kushal Phuyal | AI Accountant & Portfolio</title>
  <meta name="description" content="Kushal Phuyal ‚Äì AI Accountant from Okhaldhunga, Nepal. Building smart finance tools powered by AI." />
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <style>
    :root {
      --ink:#050810; --deep:#090d1f; --card:#0e1428;
      --line:rgba(255,255,255,0.07); --glass:rgba(255,255,255,0.04);
      --teal:#00e5cc; --violet:#7c5cfc; --rose:#ff6584;
      --text:#d4d8f0; --muted:#5a6080; --r:16px;
    }
    *,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
    html{scroll-behavior:smooth;}
    body{background:var(--ink);color:var(--text);font-family:'DM Sans',sans-serif;overflow-x:hidden;line-height:1.7;}
    #bg-canvas{position:fixed;inset:0;z-index:0;pointer-events:none;}
    .grain{position:fixed;inset:0;z-index:1;pointer-events:none;opacity:.035;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)'/%3E%3C/svg%3E");}

    /* NAV */
    nav{position:fixed;top:0;left:0;right:0;z-index:900;display:flex;align-items:center;justify-content:space-between;padding:0 6%;height:68px;background:rgba(5,8,16,.8);backdrop-filter:blur(20px);border-bottom:1px solid var(--line);}
    .logo{font-family:'Syne',sans-serif;font-size:1.25rem;font-weight:800;letter-spacing:.12em;color:white;text-decoration:none;}
    .logo em{color:var(--teal);font-style:normal;}
    .nav-right{display:flex;align-items:center;gap:4px;}
    .nav-right a{color:var(--muted);text-decoration:none;padding:8px 14px;border-radius:8px;font-size:.875rem;font-weight:500;transition:color .25s,background .25s;}
    .nav-right a:hover{color:white;background:var(--glass);}
    .nav-gallery{display:flex!important;align-items:center;gap:7px;background:var(--violet)!important;color:white!important;padding:8px 18px!important;border-radius:10px!important;margin-left:8px;}
    .nav-gallery:hover{background:var(--teal)!important;color:var(--ink)!important;}

    /* Hamburger for mobile */
    .hamburger{display:none;font-size:1.6rem;color:white;cursor:pointer;padding:8px;}
    .mobile-menu{position:fixed;top:68px;left:0;right:0;background:var(--deep);display:none;flex-direction:column;padding:20px 6%;gap:12px;z-index:800;border-top:1px solid var(--line);}
    .mobile-menu a{color:var(--text);padding:12px 0;font-size:1.05rem;}

    /* HERO + ‡§∏‡§¨‡•à ‡§™‡•Å‡§∞‡§æ‡§®‡•ã style (‡§§‡§ø‡§Æ‡•ç‡§∞‡•ã original ‡§ú‡§∏‡•ç‡§§‡•à) */
    /* ... (‡§§‡§ø‡§Æ‡•ç‡§∞‡•ã ‡§™‡•Å‡§∞‡§æ‡§®‡•ã style ‡§∏‡§¨‡•à ‡§∞‡§æ‡§ñ‡•á‡§ï‡•ã ‡§õ‡•Å, space ‡§¨‡§ö‡§æ‡§â‡§® ‡§õ‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§è‡§ï‡•ã ‡§õ‡•à‡§®) ... */
    /* (‡§§‡§≤‡§ï‡•ã ‡§™‡•Å‡§∞‡§æ‡§®‡•ã style ‡§™‡•Ç‡§∞‡§æ ‡§∞‡§æ‡§ñ‡•á‡§ï‡•ã ‡§õ‡•Å) */
    .hero{min-height:100vh;display:grid;grid-template-columns:1fr 1fr;align-items:center;padding:100px 6% 60px;position:relative;z-index:2;gap:60px;}
    /* ... ‡§¨‡§æ‡§Å‡§ï‡•Ä style ‡§§‡§ø‡§Æ‡•ç‡§∞‡•ã original ‡§ú‡§∏‡•ç‡§§‡•à (‡§Æ‡•à‡§≤‡•á copy ‡§ó‡§∞‡•á‡§∞ ‡§∞‡§æ‡§ñ‡•á‡§ï‡•ã ‡§õ‡•Å) ... */

    /* CHATBOT (same as before) */
    #chat-toggle{position:fixed;right:28px;bottom:28px;z-index:2000;width:60px;height:60px;border-radius:50%;background:var(--violet);color:white;display:flex;align-items:center;justify-content:center;font-size:24px;cursor:pointer;box-shadow:0 8px 28px rgba(124,92,252,.45);border:2px solid rgba(255,255,255,.1);transition:transform .28s,background .28s;}
    #chat-toggle:hover{transform:scale(1.12) rotate(12deg);background:var(--teal);color:var(--ink);}
    #chatbox{position:fixed;right:28px;bottom:104px;z-index:2000;width:355px;height:480px;background:#0b0f26;border-radius:22px;display:none;flex-direction:column;border:1px solid rgba(255,255,255,.1);box-shadow:0 28px 80px rgba(0,0,0,.7);overflow:hidden;}
    /* ... ‡§¨‡§æ‡§Å‡§ï‡•Ä chat style original ‡§ú‡§∏‡•ç‡§§‡•à ... */

    @media(max-width:900px){
      .hamburger{display:block;}
      .nav-right{display:none;}
      .hero{grid-template-columns:1fr;text-align:center;padding-top:100px;}
      .hero-right{order:-1;}
      #chatbox{width:calc(100vw - 24px);right:12px;}
    }
  </style>
</head>
<body>
<canvas id="bg-canvas"></canvas>
<div class="grain"></div>

<!-- NAV with Hamburger -->
<nav>
  <a href="#" class="logo">KUSHAL<em>.</em>P</a>
  <div class="nav-right">
    <a href="#about">About</a>
    <a href="#projects">Projects</a>
    <a href="#contact">Contact</a>
    <a href="photocollection.html" class="nav-gallery"><i class="fas fa-images"></i> Gallery</a>
  </div>
  <div class="hamburger" id="hamburger"><i class="fas fa-bars"></i></div>
</nav>

<!-- Mobile Menu -->
<div class="mobile-menu" id="mobile-menu">
  <a href="#about">About</a>
  <a href="#projects">Projects</a>
  <a href="#contact">Contact</a>
  <a href="photocollection.html">Gallery</a>
</div>

<!-- ‡§¨‡§æ‡§Å‡§ï‡•Ä Hero, About, Projects, Contact, Chatbox, Footer ‡§§‡§ø‡§Æ‡•ç‡§∞‡•ã original code ‡§ú‡§∏‡•ç‡§§‡•à ‡§∞‡§æ‡§ñ‡•á‡§ï‡•ã ‡§õ‡•Å -->
<!-- (space ‡§¨‡§ö‡§æ‡§â‡§® ‡§Ø‡§π‡§æ‡§Å ‡§õ‡•ã‡§ü‡•ã ‡§ó‡§∞‡•á‡§ï‡•ã ‡§õ‡•Å ‡§§‡§∞ ‡§§‡§ø‡§Æ‡•Ä‡§≤‡§æ‡§à full copy ‡§ó‡§∞‡•ç‡§¶‡§æ ‡§∏‡§¨‡•à ‡§™‡•Å‡§∞‡§æ‡§®‡•ã section ‡§∞‡§æ‡§ñ‡•ç‡§®‡•Å) -->

<!-- CHATBOT -->
<div id="chat-toggle"><i class="fas fa-robot"></i></div>
<div id="chatbox">
  <div class="chat-head">
    <div class="chat-head-l">
      <div class="chat-av"><i class="fas fa-robot"></i></div>
      <div>
        <div class="chat-name">Kushal's AI Assistant</div>
        <div class="chat-status"><span class="s-dot"></span> Online now</div>
      </div>
    </div>
    <i class="fas fa-times chat-x" id="chat-x"></i>
  </div>
  <div id="messages">
    <div class="msg bot-msg">Namaste! üôè I'm Kushal's AI assistant. Ask me about finance tools, accounting, EMI calculator or anything!</div>
  </div>
  <div class="chat-inp">
    <input id="cinput" placeholder="Type a message‚Ä¶" autocomplete="off" />
    <button id="csend"><i class="fas fa-paper-plane"></i></button>
  </div>
</div>

<footer>
  <div class="foot-logo">KUSHAL.P</div>
  <p>&copy; 2026 Kushal Phuyal. All rights reserved.</p>
  <small>Crafted for Excellence in Finance &amp; Tech</small>
</footer>

<script>
/* ‡§§‡§ø‡§Æ‡•ç‡§∞‡•ã particle + scroll reveal script (original ‡§ú‡§∏‡•ç‡§§‡•à) */
(function(){ /* ... ‡§§‡§ø‡§Æ‡•ç‡§∞‡•ã ‡§™‡•Å‡§∞‡§æ‡§®‡•ã canvas script ... */ })();

/* Scroll reveal */
const io=new IntersectionObserver(e=>e.forEach(x=>{if(x.isIntersecting)x.target.classList.add('on');}),{threshold:.12});
document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

/* Hamburger Menu */
const ham = document.getElementById('hamburger');
const mobMenu = document.getElementById('mobile-menu');
ham.onclick = () => { mobMenu.style.display = mobMenu.style.display === 'flex' ? 'none' : 'flex'; };

/* IMPROVED CHATBOT */
const toggle=document.getElementById('chat-toggle'), xbtn=document.getElementById('chat-x'),
      box=document.getElementById('chatbox'), cinput=document.getElementById('cinput'),
      csend=document.getElementById('csend'), msgs=document.getElementById('messages');

toggle.onclick=()=>{box.style.display=box.style.display==='flex'?'none':'flex'; if(box.style.display==='flex') cinput.focus();};
xbtn.onclick=()=>{box.style.display='none';};

async function sendMsg(){
  const text = cinput.value.trim(); if(!text) return;
  cinput.value = '';
  msgs.innerHTML += `<div class="msg user-msg">${text}</div>`;
  msgs.scrollTop = msgs.scrollHeight;

  const tid = 't'+Date.now();
  msgs.innerHTML += `<div class="msg bot-msg" id="${tid}">Kushal AI ‡§∏‡•ã‡§ö‡•ç‡§¶‡•à ‡§õ... <i class="fas fa-circle-notch fa-spin"></i></div>`;
  msgs.scrollTop = msgs.scrollHeight;

  try {
    const res = await fetch('https://morning-bush-8bd5.kushalphuyal.workers.dev/', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({message:text})
    });

    if(!res.ok) throw new Error('Server error');
    const reply = await res.text();
    document.getElementById(tid).innerHTML = reply || '‡§ï‡•á‡§π‡•Ä ‡§ú‡§µ‡§æ‡§´ ‡§Ü‡§è‡§® üòî';
  } catch(e) {
    document.getElementById(tid).innerHTML = '‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ó‡§∞‡•ç‡§® ‡§∏‡§ï‡§ø‡§è‡§® ‡•§ ‡§´‡•á‡§∞‡§ø ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç ‡•§';
  }
  msgs.scrollTop = msgs.scrollHeight;
}

csend.onclick = sendMsg;
cinput.addEventListener('keypress', e=>{if(e.key==='Enter') sendMsg();});
</script>
</body>
</html>