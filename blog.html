<!DOCTYPE html>
<html lang="ne">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kushal Phuyal | Blog – AI, Finance र Nepal Tax बारे विचारहरू</title>
  <meta name="description" content="Kushal Phuyal को Blog – Nepal मा AI Accountant को अनुभव, Income Tax, VAT, EMI, Finance Tools र Career बारे सरल लेखहरू।">
  <meta property="og:title" content="Kushal Phuyal | Blog">
  <meta property="og:description" content="Finance, AI, Nepal Tax र Career बारे मेरो विचार र अनुभव।">
  <meta property="og:image" content="https://kushalphuyal.com.np/images/profile.png">
  <meta property="og:url" content="https://kushalphuyal.com.np/blog.html">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=DM+Sans:wght@300;400;500;600&family=Noto+Sans+Devanagari:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    /* तिम्रो पूर्ण CSS यहाँ यथावत छ (मैले काटेको छैन, तिमीले original CSS राख्नु) */
    :root{
      --ink:#070810;--card:#0e1428;--line:rgba(255,255,255,0.08);
      --teal:#00e5cc;--violet:#7c5cfc;--rose:#ff6584;--gold:#ffd166;
      --text:#d4d8f0;--muted:#5a6080;
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    html{scroll-behavior:smooth;}
    body{background:var(--ink);color:var(--text);font-family:'DM Sans', 'Noto Sans Devanagari', sans-serif;overflow-x:hidden;line-height:1.7;}

    body::before{content:'';position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.03;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)'/%3E%3C/svg%3E");}

    .blob{position:fixed;border-radius:50%;filter:blur(130px);opacity:.1;pointer-events:none;z-index:0;}
    .b1{width:500px;height:500px;background:var(--violet);top:-200px;left:-150px;}
    .b2{width:400px;height:400px;background:var(--teal);bottom:-150px;right:-100px;}

    /* NAV */
    nav{position:fixed;top:0;left:0;right:0;z-index:9999;height:66px;
      display:flex;align-items:center;justify-content:space-between;padding:0 6%;
      background:rgba(7,8,16,.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--line);}
    .nav-logo{font-family:'Syne',sans-serif;font-size:1.2rem;font-weight:800;
      letter-spacing:.1em;color:white;text-decoration:none;}
    .nav-logo em{color:var(--teal);font-style:normal;}
    .nav-back{display:flex;align-items:center;gap:8px;color:var(--muted);text-decoration:none;
      font-size:.875rem;font-weight:500;padding:8px 16px;border-radius:8px;
      border:1px solid var(--line);transition:all .25s;}
    .nav-back:hover{color:var(--teal);border-color:var(--teal);transform:translateX(-3px);}

    /* HERO */
    .hero{padding:110px 6% 60px;position:relative;z-index:1;text-align:center;}
    .eyebrow{font-size:.72rem;font-weight:700;letter-spacing:.15em;text-transform:uppercase;
      color:var(--teal);display:inline-flex;align-items:center;gap:10px;margin-bottom:18px;}
    .eyebrow::before,.eyebrow::after{content:'';width:28px;height:1px;background:var(--teal);}
    .hero h1{font-family:'Syne',sans-serif;font-size:clamp(2.4rem,5vw,3.8rem);
      font-weight:800;color:white;margin-bottom:14px;line-height:1.1;}
    .hero h1 span{background:linear-gradient(100deg,var(--teal),var(--violet));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .hero p{color:var(--muted);font-size:1rem;max-width:480px;margin:0 auto 36px;}

    /* SEARCH + FILTER */
    .search-bar{max-width:480px;margin:0 auto 18px;position:relative;}
    .search-bar input{width:100%;padding:12px 42px 12px 16px;background:rgba(255,255,255,.05);
      border:1px solid var(--line);border-radius:12px;color:white;outline:none;
      font-family:'DM Sans',sans-serif;font-size:.9rem;transition:border-color .25s;}
    .search-bar input:focus{border-color:var(--teal);}
    .search-bar input::placeholder{color:var(--muted);}
    .search-bar i{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:var(--muted);}

    .filter-row{display:flex;justify-content:center;gap:8px;flex-wrap:wrap;margin-bottom:50px;}
    .filter-btn{padding:7px 18px;border-radius:50px;font-size:.8rem;font-weight:600;
      cursor:pointer;border:1px solid var(--line);background:rgba(255,255,255,.04);
      color:var(--muted);transition:all .25s;font-family:'DM Sans',sans-serif;}
    .filter-btn:hover{color:white;border-color:rgba(255,255,255,.25);}
    .filter-btn.active{background:var(--violet);color:white;border-color:var(--violet);
      box-shadow:0 4px 16px rgba(124,92,252,.35);}

    /* FEATURED POST */
    .featured-wrap{max-width:1100px;margin:0 auto;padding:0 6% 50px;position:relative;z-index:1;}
    .featured-card{background:var(--card);border:1px solid var(--line);border-radius:20px;
      overflow:hidden;display:grid;grid-template-columns:1.2fr 1fr;transition:all .35s;cursor:pointer;}
    .featured-card:hover{border-color:rgba(0,229,204,.4);box-shadow:0 20px 60px rgba(0,0,0,.4);transform:translateY(-4px);}
    .featured-img{position:relative;overflow:hidden;min-height:280px;background:linear-gradient(135deg,#0d1230,#1a0e40);}
    .featured-img-inner{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;
      justify-content:center;gap:14px;position:relative;}
    .featured-img-inner::before{content:'';position:absolute;inset:0;
      background:radial-gradient(ellipse at center,rgba(124,92,252,.25) 0%,transparent 70%);}
    .featured-img-inner i{font-size:3.5rem;position:relative;z-index:1;}
    .featured-img-inner span{font-family:'Syne',sans-serif;font-size:.8rem;letter-spacing:.15em;
      text-transform:uppercase;position:relative;z-index:1;}
    .feat-badge{position:absolute;top:16px;left:16px;background:var(--teal);color:var(--ink);
      padding:4px 13px;border-radius:50px;font-size:.7rem;font-weight:700;
      letter-spacing:.08em;text-transform:uppercase;z-index:2;}
    .featured-body{padding:36px;}
    .post-cat{display:inline-block;padding:4px 12px;border-radius:5px;font-size:.72rem;
      font-weight:700;margin-bottom:14px;letter-spacing:.06em;text-transform:uppercase;}
    .cat-finance{background:rgba(0,229,204,.12);color:var(--teal);border:1px solid rgba(0,229,204,.25);}
    .cat-ai{background:rgba(124,92,252,.12);color:#b5a4ff;border:1px solid rgba(124,92,252,.25);}
    .cat-nepal{background:rgba(255,209,102,.12);color:var(--gold);border:1px solid rgba(255,209,102,.25);}
    .cat-tax{background:rgba(255,101,132,.12);color:var(--rose);border:1px solid rgba(255,101,132,.25);}
    .cat-career{background:rgba(6,214,160,.12);color:#06d6a0;border:1px solid rgba(6,214,160,.25);}
    .featured-body h2{font-family:'Syne',sans-serif;font-size:1.5rem;font-weight:800;
      color:white;line-height:1.2;margin-bottom:12px;}
    .featured-body p{color:var(--muted);font-size:.9rem;margin-bottom:22px;line-height:1.7;}
    .post-meta{display:flex;align-items:center;gap:16px;font-size:.78rem;color:var(--muted);}
    .post-meta span{display:flex;align-items:center;gap:5px;}
    .read-more{display:inline-flex;align-items:center;gap:7px;margin-top:18px;
      padding:10px 22px;background:var(--violet);color:white;border-radius:10px;
      font-weight:600;font-size:.85rem;text-decoration:none;transition:all .28s;border:none;cursor:pointer;font-family:'DM Sans',sans-serif;}
    .read-more:hover{background:var(--teal);color:var(--ink);transform:translateX(4px);}

    /* BLOG GRID */
    .blog-section{max-width:1100px;margin:0 auto;padding:0 6% 80px;position:relative;z-index:1;}
    .section-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:28px;}
    .section-hdr h2{font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800;color:white;}
    .post-count{font-size:.8rem;color:var(--muted);}
    .blog-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px;}

    .blog-card{background:var(--card);border:1px solid var(--line);border-radius:16px;
      overflow:hidden;transition:all .32s;cursor:pointer;}
    .blog-card:hover{transform:translateY(-6px);border-color:rgba(0,229,204,.35);
      box-shadow:0 16px 48px rgba(0,0,0,.4);}
    .blog-card-img{height:160px;display:flex;flex-direction:column;align-items:center;
      justify-content:center;gap:10px;position:relative;overflow:hidden;}
    .blog-card-img::before{content:'';position:absolute;inset:0;
      background:radial-gradient(ellipse at center,rgba(255,255,255,.08) 0%,transparent 70%);}
    .blog-card-img i{font-size:2.2rem;position:relative;z-index:1;}
    .blog-card-img span{font-size:.72rem;letter-spacing:.12em;text-transform:uppercase;
      position:relative;z-index:1;color:rgba(255,255,255,.5);}
    .blog-card-body{padding:20px;}
    .blog-card-body h3{font-family:'Syne',sans-serif;font-size:1rem;font-weight:700;
      color:white;margin:10px 0 8px;line-height:1.3;}
    .blog-card-body p{color:var(--muted);font-size:.82rem;margin-bottom:14px;
      line-height:1.6;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;}
    .card-footer{display:flex;justify-content:space-between;align-items:center;
      padding-top:12px;border-top:1px solid var(--line);}
    .card-date{font-size:.73rem;color:var(--muted);display:flex;align-items:center;gap:5px;}
    .card-read{font-size:.73rem;color:var(--teal);display:flex;align-items:center;gap:4px;font-weight:600;}

    /* EMPTY STATE */
    .empty{text-align:center;padding:60px 20px;color:var(--muted);}
    .empty i{font-size:2.5rem;margin-bottom:14px;opacity:.3;display:block;}

    /* POST MODAL */
    .modal-overlay{display:none;position:fixed;inset:0;z-index:10000;
      background:rgba(0,0,0,.92);overflow-y:auto;padding:30px 20px;}
    .modal-overlay.open{display:flex;align-items:flex-start;justify-content:center;}
    .modal-box{background:var(--card);border:1px solid var(--line);border-radius:20px;
      max-width:760px;width:100%;position:relative;animation:modalIn .3s ease;}
    @keyframes modalIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:none}}
    .modal-img{height:260px;display:flex;flex-direction:column;align-items:center;
      justify-content:center;gap:14px;border-radius:20px 20px 0 0;overflow:hidden;position:relative;}
    .modal-img::before{content:'';position:absolute;inset:0;
      background:radial-gradient(ellipse at center,rgba(255,255,255,.1) 0%,transparent 65%);}
    .modal-img i{font-size:4rem;position:relative;z-index:1;}
    .modal-close{position:absolute;top:16px;right:16px;width:48px;height:48px;border-radius:50%;
      background:rgba(0,0,0,.5);border:1px solid var(--line);color:white;cursor:pointer;
      display:flex;align-items:center;justify-content:center;font-size:1.2rem;
      transition:all .25s;z-index:10;}
    .modal-close:hover{background:var(--rose);border-color:var(--rose);}
    .modal-content{padding:32px;}
    .modal-content .post-cat{margin-bottom:12px;}
    .modal-content h1{font-family:'Syne',sans-serif;font-size:1.7rem;font-weight:800;
      color:white;line-height:1.2;margin-bottom:14px;}
    .modal-meta{display:flex;align-items:center;gap:16px;font-size:.78rem;
      color:var(--muted);margin-bottom:24px;padding-bottom:20px;border-bottom:1px solid var(--line);}
    .modal-meta span{display:flex;align-items:center;gap:5px;}
    .modal-body{color:var(--muted);font-size:.93rem;line-height:1.9;}
    .modal-body h2{font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:700;
      color:white;margin:24px 0 10px;}
    .modal-body h3{font-family:'Syne',sans-serif;font-size:.95rem;font-weight:700;
      color:var(--teal);margin:18px 0 8px;}
    .modal-body p{margin-bottom:14px;}
    .modal-body ul,.modal-body ol{padding-left:20px;margin-bottom:14px;}
    .modal-body li{margin-bottom:6px;}
    .modal-body strong{color:white;}
    .modal-body .highlight{background:rgba(0,229,204,.08);border-left:3px solid var(--teal);
      padding:12px 16px;border-radius:0 8px 8px 0;margin:16px 0;}
    .modal-nav{display:flex;justify-content:space-between;padding:20px 32px;
      border-top:1px solid var(--line);}
    .modal-nav button{display:flex;align-items:center;gap:7px;background:none;border:1px solid var(--line);
      color:var(--muted);padding:10px 20px;border-radius:8px;cursor:pointer;font-size:.85rem;
      font-family:'DM Sans',sans-serif;transition:all .25s;}
    .modal-nav button:hover{border-color:var(--teal);color:var(--teal);}
    .modal-nav button:disabled{opacity:.3;cursor:not-allowed;}

    /* FOOTER */
    footer{text-align:center;padding:44px 20px;background:#030509;
      border-top:1px solid var(--line);position:relative;z-index:1;}
    .foot-logo{font-family:'Syne',sans-serif;font-size:1.3rem;font-weight:800;
      background:linear-gradient(to right,white,var(--teal));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px;}
    footer p{color:#333;font-size:.82rem;}
  </style>
</head>
<body>
<div class="blob b1"></div>
<div class="blob b2"></div>

<!-- NAV -->
<nav>
  <a href="index.html" class="nav-logo">KUSHAL<em>.</em>P</a>
  <a href="index.html" class="nav-back"><i class="fas fa-arrow-left"></i> Portfolio</a>
</nav>

<!-- HERO -->
<div class="hero">
  <div class="eyebrow">Kushal Phuyal को विचार</div>
  <h1>मेरो <span>Blog</span></h1>
  <p>Finance, AI, Nepal Tax, र Career बारे मेरा अनुभव र विचारहरू</p>
  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Blog खोज्नुहोस्…" oninput="doSearch()" aria-label="Blog खोज्नुहोस्">
    <i class="fas fa-search"></i>
  </div>
  <div class="filter-row" id="filterRow"></div>
</div>

<!-- FEATURED -->
<div class="featured-wrap" id="featuredWrap"></div>

<!-- ALL POSTS -->
<div class="blog-section">
  <div class="section-hdr">
    <h2>सबै Posts</h2>
    <span class="post-count" id="postCount"></span>
  </div>
  <div class="blog-grid" id="blogGrid"></div>
  <div class="empty" id="emptyState" style="display:none;">
    <i class="fas fa-search"></i>
    <p>कुनै post भेटिएन। फरक keyword प्रयास गर्नुहोस्।</p>
  </div>
</div>

<!-- POST MODAL -->
<div class="modal-overlay" id="modal" role="dialog" aria-modal="true">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal()" aria-label="Modal बन्द गर्नुहोस्"><i class="fas fa-times"></i></button>
    <div class="modal-img" id="modal-img" loading="lazy"></div>
    <div class="modal-content">
      <div id="modal-cat"></div>
      <h1 id="modal-title"></h1>
      <div class="modal-meta" id="modal-meta"></div>
      <div class="modal-body" id="modal-body"></div>
    </div>
    <div class="modal-nav">
      <button id="prevBtn" onclick="navigatePost(-1)" aria-label="अघिल्लो post"><i class="fas fa-chevron-left"></i> अघिल्लो</button>
      <button id="nextBtn" onclick="navigatePost(1)" aria-label="अर्को post">अर्को <i class="fas fa-chevron-right"></i></button>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="foot-logo">KUSHAL.P</div>
  <p>© <script>document.write(new Date().getFullYear())</script> Kushal Phuyal. All Rights Reserved.</p>
</footer>

<script>
// BLOG POSTS — पूर्ण ६ posts (सबै content सहित)
const POSTS = [
  {
    id: 1,
    title: "Nepal मा AI Accountant हुनुको अर्थ के हो?",
    category: "ai",
    date: "२०८२ माघ १०",
    readTime: "६ मिनेट",
    excerpt: "परम्परागत Accountant र AI Accountant बीचको फरक, र नेपालको financial sector मा AI को भविष्य बारे मेरो अनुभव।",
    icon: "fas fa-robot",
    color: "linear-gradient(135deg, #0d1230, #1a0e40)",
    iconColor: "var(--violet)",
    content: `
      <h2>AI Accountant भनेको के हो?</h2>
      <p>पहिले accounting भनेको manual ledger, calculator, र थुप्रै कागजातको काम थियो। तर अहिले AI ले यो सबै बदलिरहेको छ।</p>
      <p>AI Accountant भनेको कोही जसले traditional accounting knowledge सँगसँगै artificial intelligence tools पनि प्रयोग गर्न जान्दछ — automation गर्न, data analyze गर्न, र smart financial decisions लिन।</p>

      <div class="highlight">
        मेरो विचारमा, आउने ५ वर्षमा नेपालका ७०% routine accounting tasks AI ले handle गर्नेछ। जसले adapt गर्दैन, उसलाई गाह्रो हुन्छ।
      </div>

      <h2>परम्परागत vs AI Accountant</h2>
      <p><strong>परम्परागत Accountant:</strong> Manual data entry, spreadsheet, physical voucher — समय धेरै लाग्छ।</p>
      <p><strong>AI Accountant:</strong> Automated bookkeeping, real-time reporting, pattern detection — काम छिटो, गल्ती कम।</p>

      <h3>मैले के सिकें?</h3>
      <ul>
        <li>AI tools सिक्न डराउनु हुँदैन</li>
        <li>Excel मात्र जानेको अब पुग्दैन</li>
        <li>Python, automation tools, र AI platforms बुझ्नु जरुरी छ</li>
        <li>Nepal context मा apply गर्न सक्नु नै असली skill हो</li>
      </ul>

      <h2>नेपालको अवस्था</h2>
      <p>नेपालमा अझैपनि धेरै firms manual accounting नै गर्छन्। यही gap नै opportunity हो। जसले आफ्नो accounting knowledge मा AI थप्न सक्छ, उसले market मा अलग ठाउँ बनाउन सक्छ।</p>
      <p>Okhaldhunga जस्तो ठाउँबाट पनि digital tools प्रयोग गरेर national level मा काम गर्न सकिन्छ — यो मैले आफैं prove गर्दैछु।</p>
    `
  },
  {
    id: 2,
    title: "Nepal को VAT System — सजिलो भाषामा बुझौं",
    category: "tax",
    date: "२०८२ माघ २०",
    readTime: "८ मिनेट",
    excerpt: "VAT registration, filing deadline, र 13% VAT को calculation बारे complete guide — नेपाली व्यापारीहरूको लागि।",
    icon: "fas fa-receipt",
    color: "linear-gradient(135deg, #0d1820, #0a1a30)",
    iconColor: "var(--teal)",
    content: `
      <h2>VAT भनेको के हो?</h2>
      <p>VAT (Value Added Tax) भनेको नेपालमा goods र services मा लाग्ने कर हो। हाल नेपालमा <strong>13%</strong> VAT लाग्छ।</p>

      <div class="highlight">
        वार्षिक turnover Rs 50 लाख वा माथि भएका व्यापारीहरूले VAT registration अनिवार्य गर्नुपर्छ।
      </div>

      <h2>VAT Filing Deadline</h2>
      <ul>
        <li><strong>Monthly filing:</strong> प्रत्येक महिनाको २५ गतेभित्र</li>
        <li><strong>Quarterly filing:</strong> केही business को लागि अनुमति छ</li>
        <li>Late filing मा <strong>15% annual interest + 1% monthly penalty</strong> लाग्छ</li>
      </ul>

      <h2>VAT Calculation कसरी गर्ने?</h2>
      <h3>Sale मा VAT जोड्दा:</h3>
      <p>Rs 1,00,000 को सामान बेच्दा: <strong>Rs 1,00,000 × 13% = Rs 13,000 VAT</strong> → Total: Rs 1,13,000</p>

      <h3>Purchase मा VAT घटाउँदा:</h3>
      <p>Rs 1,13,000 को bill भएमा: VAT Credit = Rs 1,13,000 × 13/113 = Rs 13,000</p>

      <h3>IRD मा Submit गर्ने:</h3>
      <p><strong>Net VAT = Output VAT (Sales) − Input VAT (Purchases)</strong></p>
      <p>यदि Output बढी छ भने government लाई बुझाउने, Input बढी छ भने refund माग्न सकिन्छ।</p>

      <h2>Common Mistakes</h2>
      <ul>
        <li>VAT bill नलिने — Input credit lost हुन्छ</li>
        <li>Deadline miss गर्ने — penalty बढ्छ</li>
        <li>Exempt items मा पनि VAT charge गर्ने — legal issue</li>
      </ul>
    `
  },
  {
    id: 3,
    title: "EMI Calculator बनाउनु किन जरुरी लाग्यो?",
    category: "finance",
    date: "२०८२ फागुन ५",
    readTime: "५ मिनेट",
    excerpt: "मैले EMI Analytics Tool किन बनाएँ, कसरी बनाएँ, र यसले नेपाली loan borrowers लाई कसरी help गर्छ भन्ने कुरा।",
    icon: "fas fa-calculator",
    color: "linear-gradient(135deg, #0a1a15, #0d2820)",
    iconColor: "var(--teal)",
    content: `
      <h2>Problem के थियो?</h2>
      <p>मेरा आफन्त र साथीहरूले bank loan लिँदा कति EMI तिर्नुपर्छ, कति interest जान्छ, service charge कति हो — यो कुरा clearly बुझ्दैनथे।</p>
      <p>Bank ले दिने schedule पढ्न गाह्रो हुन्थ्यो। Simple, Nepali-friendly tool चाहिन्थ्यो।</p>

      <div class="highlight">
        "एउटा tool बनाऊँ जसले सजिलै EMI calculate गरोस् — service charge र insurance सहित।" — यही सोचेर सुरु गरें।
      </div>

      <h2>Tool मा के छ?</h2>
      <ul>
        <li><strong>EMI Calculation:</strong> Reducing balance method</li>
        <li><strong>Service Charge:</strong> Adjustable (default 1.3%)</li>
        <li><strong>Insurance:</strong> Adjustable (default 0.425%/year)</li>
        <li><strong>Amortization Schedule:</strong> Month-by-month breakdown</li>
        <li><strong>Nepal Number Format:</strong> Rs 1,23,456 format</li>
      </ul>

      <h2>मैले सिकेको कुरा</h2>
      <p>Tool बनाउँदा मैले realize गरें कि coding र finance दुवै जान्दा कति powerful combination हुन्छ। एउटा problem देखेर solution बनाउन सक्नु — यो नै real skill हो।</p>

      <h3>अब के?</h3>
      <p>भविष्यमा यो tool मा AI add गर्ने सोचेको छु — जसले automatically loan comparison गरोस् र best option suggest गरोस्।</p>
    `
  },
  {
    id: 4,
    title: "TDS कति काट्ने? — Complete Guide",
    category: "tax",
    date: "२०८२ फागुन १०",
    readTime: "७ मिनेट",
    excerpt: "Service payment, rent, interest, dividend — कुन payment मा कति TDS काट्ने? FY 2082/83 का rates सहित complete guide।",
    icon: "fas fa-percentage",
    color: "linear-gradient(135deg, #1a0d20, #2d1040)",
    iconColor: "var(--rose)",
    content: `
      <h2>TDS भनेको के हो?</h2>
      <p>TDS (Tax Deducted at Source) भनेको payment गर्दा नै tax काटेर IRD मा बुझाउने system हो। Nepal Income Tax Act बमोजिम धेरै payments मा TDS काट्नु अनिवार्य छ।</p>

      <h2>FY 2082/83 TDS Rates</h2>
      <ul>
        <li><strong>Service (VAT bill सहित):</strong> 1.5%</li>
        <li><strong>Service (VAT bill बिना):</strong> 15%</li>
        <li><strong>Rent:</strong> 10%</li>
        <li><strong>Interest / Royalty:</strong> 15%</li>
        <li><strong>Dividend:</strong> 5%</li>
        <li><strong>Natural Person Contract:</strong> 25%</li>
        <li><strong>Land/Building Rent:</strong> 1%</li>
      </ul>

      <div class="highlight">
        Important: VAT registered vendor ले VAT bill दिए 1.5% TDS मात्र काट्ने। Bill नदिए 15% काट्नुपर्छ। यो धेरैले confuse गर्छन्।
      </div>

      <h2>TDS Deposit Deadline</h2>
      <p>काटेको TDS अर्को महिनाको <strong>25 गतेभित्र</strong> IRD मा बुझाउनुपर्छ।</p>

      <h2>Example</h2>
      <p>एउटा IT company लाई Rs 1,00,000 service payment गर्दा:</p>
      <ul>
        <li>VAT bill छ भने: TDS = Rs 1,00,000 × 1.5% = <strong>Rs 1,500</strong></li>
        <li>VAT bill छैन भने: TDS = Rs 1,00,000 × 15% = <strong>Rs 15,000</strong></li>
      </ul>
      <p>Net payment = Gross − TDS भुक्तान गर्ने, TDS IRD मा जम्मा गर्ने।</p>
    `
  },
  {
    id: 5,
    title: "Okhaldhunga बाट Digital Career — मेरो Journey",
    category: "career",
    date: "२०८२ फागुन १५",
    readTime: "५ मिनेट",
    excerpt: "सानो जिल्लाबाट पनि digital tools प्रयोग गरेर national level मा काम गर्न सकिन्छ — मेरो अनुभव र सिकाइ।",
    icon: "fas fa-mountain",
    color: "linear-gradient(135deg, #0a150d, #102515)",
    iconColor: "#06d6a0",
    content: `
      <h2>सुरुआत कहाँबाट?</h2>
      <p>Okhaldhunga — नेपालको एउटा सानो जिल्ला। धेरैले सोच्छन् यहाँबाट digital career possible छैन। तर मैले ठीक उल्टो prove गरें।</p>

      <div class="highlight">
        "Internet connection भएको ठाउँबाट जो पनि काम गर्न सकिन्छ। Location अब limitation होइन।"
      </div>

      <h2>के सिकें?</h2>
      <ul>
        <li>Accounting fundamentals — Nepal law बमोजिम</li>
        <li>Web development — HTML, CSS, JavaScript</li>
        <li>AI tools — ChatGPT, Cloudflare Workers</li>
        <li>Finance automation — calculator tools बनाउने</li>
      </ul>

      <h2>कसरी सुरु गर्ने?</h2>
      <p>मेरो advice: आफ्नो field को knowledge लेउ, त्यसमा technology थप। Accountant हो? Excel automation सिक। Teacher हो? Online course बनाउ।</p>

      <h3>मेरो Next Goal</h3>
      <p>Nepal भर accountants लाई AI tools सिकाउने। Financial literacy बढाउने। र prove गर्ने कि Okhaldhunga बाट पनि national impact गर्न सकिन्छ।</p>

      <p>यो blog, यो website, यी tools — सबै त्यही direction मा एउटा सुरुआत हो।</p>
    `
  },
  {
    id: 6,
    title: "Nepal Income Tax Slabs FY 2082/83 — Unmarried vs Married",
    category: "tax",
    date: "२०८२ फागुन २०",
    readTime: "६ मिनेट",
    excerpt: "FY 2082/83 को income tax slabs — unmarried र married को फरक rates, calculation method, र PF deduction को फाइदा।",
    icon: "fas fa-file-invoice-dollar",
    color: "linear-gradient(135deg, #0d0820, #1a1040)",
    iconColor: "var(--gold)",
    content: `
      <h2>Income Tax Slabs FY 2082/83</h2>

      <h3>Unmarried (अविवाहित)</h3>
      <ul>
        <li>Rs 5,00,000 सम्म — <strong>1%</strong></li>
        <li>Rs 5,00,001 – 7,00,000 — <strong>10%</strong></li>
        <li>Rs 7,00,001 – 10,00,000 — <strong>20%</strong></li>
        <li>Rs 10,00,001 – 20,00,000 — <strong>30%</strong></li>
        <li>Rs 20,00,001 – 50,00,000 — <strong>36%</strong></li>
        <li>Rs 50,00,000 माथि — <strong>39%</strong></li>
      </ul>

      <h3>Married (विवाहित / Couple)</h3>
      <ul>
        <li>Rs 6,00,000 सम्म — <strong>1%</strong></li>
        <li>त्यसपछिका slabs same</li>
      </ul>

      <div class="highlight">
        Married हुँदा Rs 1 लाख extra tax-free income पाइन्छ — वार्षिक Rs 1,000 सम्म बच्छ।
      </div>

      <h2>PF Deduction को फाइदा</h2>
      <p>PF (Provident Fund) contribution taxable income बाट घटाउन पाइन्छ। Monthly Rs 5,000 PF तिरे, वार्षिक Rs 60,000 taxable income घट्छ।</p>

      <h2>Example Calculation</h2>
      <p>Annual income: Rs 8,00,000, Unmarried, PF: Rs 60,000</p>
      <ul>
        <li>Taxable = Rs 8,00,000 − Rs 60,000 = <strong>Rs 7,40,000</strong></li>
        <li>Tax on Rs 5,00,000 @ 1% = Rs 5,000</li>
        <li>Tax on Rs 2,00,000 @ 10% = Rs 20,000</li>
        <li>Tax on Rs 40,000 @ 20% = Rs 8,000</li>
        <li><strong>Total Tax = Rs 33,000 | Monthly TDS = Rs 2,750</strong></li>
      </ul>
    `
  }
];

// CATEGORY CONFIG
const CATS = {
  all:     { label: 'सबै',      class: '' },
  finance: { label: 'Finance',  class: 'cat-finance' },
  ai:      { label: 'AI',       class: 'cat-ai' },
  nepal:   { label: 'Nepal',    class: 'cat-nepal' },
  tax:     { label: 'Tax',      class: 'cat-tax' },
  career:  { label: 'Career',   class: 'cat-career' },
};

let activeFilter = 'all';
let searchQuery  = '';
let currentIdx   = 0;

// RENDER FUNCTIONS
function getFiltered() {
  return POSTS.filter(p => {
    const matchCat  = activeFilter === 'all' || p.category === activeFilter;
    const matchSearch = !searchQuery ||
      p.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
      p.excerpt.toLowerCase().includes(searchQuery.toLowerCase()) ||
      p.content.toLowerCase().includes(searchQuery.toLowerCase());
    return matchCat && matchSearch;
  });
}

function buildFilters() {
  const row = document.getElementById('filterRow');
  row.innerHTML = Object.entries(CATS).map(([key, val]) =>
    `<button class="filter-btn ${key === 'all' ? 'active' : ''}"
      onclick="setFilter('${key}', this)" aria-pressed="${key === 'all' ? 'true' : 'false'}">${val.label}</button>`
  ).join('');
}

function setFilter(cat, btn) {
  activeFilter = cat;
  document.querySelectorAll('.filter-btn').forEach(b => {
    b.classList.remove('active');
    b.setAttribute('aria-pressed', 'false');
  });
  btn.classList.add('active');
  btn.setAttribute('aria-pressed', 'true');
  render();
}

function doSearch() {
  searchQuery = document.getElementById('searchInput').value.trim().toLowerCase();
  render();
}

function render() {
  const filtered = getFiltered();
  renderFeatured(filtered);
  renderGrid(filtered);
  document.getElementById('postCount').textContent = filtered.length + ' posts';
  document.getElementById('emptyState').style.display = filtered.length ? 'none' : 'block';
  document.getElementById('blogGrid').style.display = filtered.length ? 'grid' : 'none';
}

function renderFeatured(filtered) {
  const wrap = document.getElementById('featuredWrap');
  if (!filtered.length) { wrap.innerHTML = ''; return; }
  const p = filtered[0];
  const catCfg = CATS[p.category] || CATS.all;
  wrap.innerHTML = `
    <div class="featured-card" onclick="openModal(0, getFiltered())">
      <div class="featured-img" style="background:${p.color}">
        <span class="feat-badge"><i class="fas fa-star"></i> Featured</span>
        <div class="featured-img-inner">
          <i class="${p.icon}" style="color:${p.iconColor}"></i>
          <span style="color:rgba(255,255,255,.45)">${catCfg.label}</span>
        </div>
      </div>
      <div class="featured-body">
        <span class="post-cat ${catCfg.class}">${catCfg.label}</span>
        <h2>${p.title}</h2>
        <p>${p.excerpt}</p>
        <div class="post-meta">
          <span><i class="fas fa-calendar"></i> ${p.date}</span>
          <span><i class="fas fa-clock"></i> ${p.readTime}</span>
        </div>
        <button class="read-more" onclick="event.stopPropagation();openModal(0, getFiltered())">
          <i class="fas fa-book-open"></i> पढ्नुहोस्
        </button>
      </div>
    </div>`;
}

function renderGrid(filtered) {
  const grid = document.getElementById('blogGrid');
  const rest  = filtered.slice(1);
  grid.innerHTML = rest.map((p, i) => {
    const catCfg = CATS[p.category] || CATS.all;
    return `
      <div class="blog-card" onclick="openModal(${i+1}, getFiltered())">
        <div class="blog-card-img" style="background:${p.color}">
          <i class="${p.icon}" style="color:${p.iconColor}"></i>
          <span>${catCfg.label}</span>
        </div>
        <div class="blog-card-body">
          <span class="post-cat ${catCfg.class}">${catCfg.label}</span>
          <h3>${p.title}</h3>
          <p>${p.excerpt}</p>
          <div class="card-footer">
            <span class="card-date"><i class="fas fa-calendar"></i> ${p.date}</span>
            <span class="card-read"><i class="fas fa-clock"></i> ${p.readTime}</span>
          </div>
        </div>
      </div>`;
  }).join('');
}

// MODAL FUNCTIONS
let modalList = [];

function openModal(idx, list) {
  modalList  = list;
  currentIdx = idx;
  loadModal(currentIdx);
  document.getElementById('modal').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modal').classList.remove('open');
  document.body.style.overflow = '';
}

function loadModal(idx) {
  const p = modalList[idx];
  const catCfg = CATS[p.category] || CATS.all;
  document.getElementById('modal-img').style.background = p.color;
  document.getElementById('modal-img').innerHTML =
    `<i class="${p.icon}" style="color:${p.iconColor};font-size:4rem;position:relative;z-index:1;"></i>`;
  document.getElementById('modal-cat').innerHTML =
    `<span class="post-cat ${catCfg.class}">${catCfg.label}</span>`;
  document.getElementById('modal-title').textContent = p.title;
  document.getElementById('modal-meta').innerHTML =
    `<span><i class="fas fa-calendar"></i> ${p.date}</span>
     <span><i class="fas fa-clock"></i> ${p.readTime}</span>
     <span><i class="fas fa-user"></i> Kushal Phuyal</span>`;
  document.getElementById('modal-body').innerHTML = p.content;
  document.getElementById('prevBtn').disabled = idx === 0;
  document.getElementById('nextBtn').disabled = idx === modalList.length - 1;
  document.querySelector('.modal-box').scrollTop = 0;
}

function navigatePost(dir) {
  const newIdx = currentIdx + dir;
  if (newIdx < 0 || newIdx >= modalList.length) return;
  currentIdx = newIdx;
  loadModal(currentIdx);
}

// close on overlay click
document.getElementById('modal').addEventListener('click', function(e) {
  if (e.target === this) closeModal();
});

// keyboard nav
document.addEventListener('keydown', e => {
  if (!document.getElementById('modal').classList.contains('open')) return;
  if (e.key === 'Escape')     closeModal();
  if (e.key === 'ArrowRight') navigatePost(1);
  if (e.key === 'ArrowLeft')  navigatePost(-1);
});

// INIT
buildFilters();
render();
</script>
</body>
</html>